 <!DOCTYPE html>
 <html>


 <head>
 	<title>Test Secene</title>
 	<meta charset="utf-8">
 	<!-- Link to the Aframe framework-->
 	<script src="https://aframe.io/releases/0.9.0/aframe.min.js"></script>
 	</script>
 	<!-- Link to the event component-->
 	<script src="https://unpkg.com/aframe-event-set-component@^4.0.0/dist/aframe-event-set-component.min.js">
 	</script>
 	<!-- Link to the animation component-->
 	<script src="https://unpkg.com/aframe-animation-component@4.0.0/dist/aframe-animation-component.min.js"></script>
 	<!--Needed for setting up movement in the scene-->
	<script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v6.0.0/dist/aframe-extras.min.js"></script>
	<script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>

 	<script src="js/app.js" type="text/javascript"></script>
 </head>



 <body>

 	<!--This is the VR scene object  -->
 	<a-scene>
 		<a-assets>
 			<img id="Wall 1" src="textures/brick.jpg">
 			<img id="Wall 2" src="textures/brick.jpg">
 			<img id="Wall 3" src="textures/brick.jpg">
 			<img id="Wall 4" src="textures/brick.jpg">

  			<img id="floor" src="textures/grass.jpg">
  			<img id="table-texture" src="textures/wood.jpeg">
  			<img id="cube" src="textures/wood.jpeg">
  			<img id="ball" src="textures/wood.jpeg">
  			<img id="crazy-cube" src="textures/wood.jpeg">
  			<img id="sky" src="textures/sky.JPG">

  			<img id="black" src="textures/black.png">
		    <img id="footsteps" src="textures/Footsteps.png">

        	<audio id="snd_steps" src="sounds/steps.wav">

    		<a-asset-item id="keyObj" src='objects/Key_B_02.obj'></a-asset-item>
        	<a-asset-item id="keyMtl" src='objects/Key_B_02.mtl'></a-asset-item>

		</a-assets>

<!-- 
			 Table 2 will hold our objects after user clicks on them
 		 	<a-box id = "Table2"src="#table-texture" position= " .2 -.75 -1"depth="2" height="1" width="1" shadow>
 		 		<a-entity id = "EmptyHand">
 		 		</a-entity>






 		 	</a-box>

		kybox -->

		 <a-sky src="#sky"></a-sky>



		 <!-- walls -->
		 <a-box id="Wall 1" src="#Wall 1"
		 position="0 2.5 16" depth="0" height="5" width="40" shadow>
		 </a-box>

		 <a-box id="Wall 2" src="#Wall 2"
		 position="0 2.5 -24" depth="0" height="5" width="40" shadow>
		 </a-box>

		 <a-box id="Wall 3" src="#Wall 3"
		 position="20 2.5 -4" depth="40" height="5" width="0" shadow>
		 </a-box>

		 <a-box id="Wall 4" src="#Wall 4"
		 position="-20 2.5 -4" depth="40" height="5" width="0" shadow>
		 </a-box>


 		 <!--Table 1 will be the initial posiitions of the objects-->
 		 <a-box id = "Table 1" src="#table-texture" position = "1 0.5 0" depth="2" height="1" width="1" shadow>
 		 </a-box>






 		 <!-- Right Red Box -->
		<a-box id="left1"
			   color="#AA0000" class="clickable"
			   position="1.25 1.15 .750" depth = ".25" 	height = ".25" width = ".25"

			   event-set__enter="_event: mouseenter; material.color: #FF0000"
			   event-set__leave="_event: mouseleave; material.color: #AA0000"

			   pickUp="target: #left"


			   refresh-obj
				
				>
		</a-box>

		<!--Object 2 sphere-->
<!-- 		<a-sphere id="left"
				  color="blue" class="clickable"
				  radius=".25" position="1.25 1.23 -0.75"

				  event-set__enter="_event: mouseenter; material.color: #1867e2"
				  event-set__leave="_event: mouseleave; material.color: blue"

			   	  event-set__tarpos="_event: click; _target: #left; position: -1.25 1.23 -0.75"


				  refresh-obj>
		</a-sphere>
 -->




		<!--Object 3 crazy cube-->
		<a-dodecahedron
		id = "middle"
		color="green" class = "clickable"
		radius="0.25" position="1.25 1.23 0"

		event-set__enter="_event: mouseenter; material.color: #09ed20"
		event-set__leave="_event: mouseleave; material.color: green"

		event-set__tarpos="_event: click; _target: #middle; position: -1.25 1.23 0"


		refresh-obj>

		</a-dodecahedron>

		<!-- Key -->
   	<a-box  id="key"
		        position="0 .5 -10"
		        class="clickable"
		        refresh-obj
		        highlight="initialColor: #FFDF00; highlightColor: #AA8A00"
				  follow="target: #left2; speed: 10"
        ></a-box>

     <!--    <a-box		id="c"
     					position="0 .5 -4"
     					visible="false"
  						></a-box> -->




		<!-- First box for movement -->
		 <a-box position="10 0.5 -10"
	  		 rotation="0 0 0"
	  		 color="pink"
	  		 shadow>
	     </a-box>
	     <!-- Checkpoint UI -->
	     <a-image src="#footsteps" position="10 2.5 -10" checkpoint="offset: 2 -2.5 0" class="clickable" look-at="#camera-rig"></a-image>

	     <!-- Second box for movement -->
	     <a-box position="0 0.5 -20"
	  		 rotation="0 0 0"
	  		 color="green"
	  		 shadow>
	     </a-box>
	     <!-- Checkpoint UI -->
	     <a-image src="#footsteps" position="0 2.5 -20" checkpoint="offset: 0 -2.5 -2" class="clickable" look-at="#camera-rig"></a-image>



 		 <!--The plane object is the floor -->
 		 <a-plane src="#floor" position="0 0 -4" rotation="-90 0 0" width="40" height="40" shadow class="not-clickable"></a-plane>




  	  		<!-- Camera Rig -->
	  <a-entity id="camera-rig"
	  			movement-controls="controls: checkpoint"
	  			checkpoint-controls="mode: animate; animateSpeed: 13.0"
          sound="src: #snd_steps; on: navigation-start; volume: 4"
	  			event-set__start="_target: #blink; _event: navigation-start;
	  							  animation.property: opacity;
	  							  animation.to: 1;
	  							  animation.dur: 250;
	  							  animation.easing: easeOutQuart"
	  		    event-set__end="_target: #blink; _event: navigation-end;
	  		    				animation.to: 0;">

	  	<!-- Camera:progressive controls -->
	  	<a-entity id="controls" progressive-controls>
	  		<a-camera look-controls wasd-controls="enabled: false">
	  			<a-cursor fuse="true"
	  					  geometry="primitive: sphere; radius: 0.005"
					  	  material="color: #000000; shader: flat; opacity: 0.5"
					  	  raycaster="objects: .clickable"
	  					  animation__fusing="property: scale;
	  					  					startEvents: fusing;
	  					  					easing: linear;
	  					  					fill: foward;
	  					  					dur: 1000;
	  					  					from: 1 1 1;
	  					  					to: 2 2 2"
  						  animation__mouseleave="property: scale;
  						  						 startEvents: mouseleave;
  						  						 easing: linear;
  						  						 fill: backwards;
  						  						 dur: 1000;
  						  						 from: 2 2 2;
  						  						 to: 1 1 1">
				</a-cursor>
				<!-- Inventory items -->
				<!-- Left Hands -->
				<a-box	id="left2" visible="true" scale="0.25 0.25 0.25"
							material="color: red"
							position="-.5 -.22 -1"

							></a-box>


				<!-- setup for "blink" the black screen -->
				<a-image id="blink" src="#black" position="0 0 -0.3" opacity="0"></a-image>
	  		</a-camera>
	  	 </a-entity>
	  	</a-entity>











 	</a-scene>







 </body>







 </html>
